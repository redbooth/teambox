.result
  - case result
  - when Conversation
    .comment_icon
    = link_to result.project, project_path(result.project)
    &rarr;
    - name = result.excerpts.name
    - name = !name.blank? ? name : truncate( h( sanitize( result.comments.try(:first).try(:body), :tags => [nil]) ), :length => 80)
    = link_to name.html_safe, project_conversation_path(result.project, result)
    %span.time= time_ago_in_words result.updated_at
  - when TaskList
    .task_icon
    = link_to result.project, project_path(result.project)
    &rarr;
    = link_to result.excerpts.name.html_safe, project_task_list_path(result.project, result)
    %span.time= time_ago_in_words result.updated_at
  - when Task
    .task_icon
    = link_to result.project, project_path(result.project)
    &rarr;
    = link_to result.task_list, project_task_list_path(result.project, result.task_list)
    &rarr;
    = link_to result.excerpts.name.html_safe, project_task_path(result.project, result)
    %span.time= time_ago_in_words result.updated_at
  - when Page
    .page_icon
    = link_to result.project, project_path(result.project)
    &rarr;
    = link_to result.excerpts.name.html_safe, project_page_path(result.project, result)
    %span.time= time_ago_in_words result.updated_at
