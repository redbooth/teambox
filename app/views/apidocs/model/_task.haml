%p= "A task tracks tasks which need to be completed in a #{link_to_doc_model(:task_list)}, contained in a #{link_to_doc_model(:project)}."

- doc_for :index,
          :parameters => {:status => "0...4|[0,1,2,3,4]"},
          :example => [@task.to_api_hash] do
  %p= "Returns the most recent tasks in the #{link_to_doc_model(:task_list)}, #{link_to_doc_model(:project)}, or projects you belong to."
  %p= "Use the optional <tt>status</tt> parameter to filter tasks by their status id. For example, to only view new or open tasks, you would query <code>?status[]=0&status[]=1</code>."

- doc_for :show,  :example => @task.to_api_hash do
  %p= "Returns the data for a task."
  
- doc_for :create, :parameters => {:comment => {:name => 'Task', :start_on => '2010-01-01', :finish_on => '2010-02-01'} },
                   :example => @task.to_api_hash,
                   :status => :created,
                   :role => :participant do
  %p= "Creates a new task."

- doc_for :update, :parameters => {:comment => {:name => @task.name, :due_on => @task.due_on, :assigned_id => @task.assigned_id, :status => @task.status} },
                   :status => :updated,
                   :role => :participant do
  %p= "Updates the name, due date, assigned #{link_to_doc_model(:person)}, and status of a task."

- doc_for :reorder, :status => :updated,
                    :parameters => { :tasks => [1,2,3] },
                    :role => :participant do
  %p= "Reorders the tasks in a task list according to the order each task id is presented in <tt>tasks</tt>."

- doc_for :watch, :status => :updated,
                  :role => :participant do
  %p= "Adds the current user to the watchers list of the task."

- doc_for :unwatch, :status => :updated,
                    :role => :participant do
  %p= "Removes the current user from the watchers list of the task."

- doc_for :destroy, :status => :deleted,
                    :role => :participant do
  %p= "Destroys a task."

