%p= "A conversation is a group of comments. It can also act as a thread in the project overview."
%p= "Comments belong to a #{link_to_doc_model(:project)}."

- doc_for :index, :example => example_api_wrap(@conversation, :references => [:user, :project]), :parameters => {:type => "thread|conversation"} do
  %p= "Returns the most recent conversations in a project."
  %p= "Conversations can either be threads (i.e. simple = true), or normal conversations visible in the conversations section. Use the <tt>type</tt> parameter to filter between the two, or omit it to enumerate both."

- doc_for :show,  :example => @conversation.to_api_hash,
                  :includes => [:comments, :user] do
  %p= "Returns the data for a conversation."
  
- doc_for :create, :parameters => {:name => 'Conversation', :body => 'Well...', :project_id => 123 },
                   :example => @conversation.to_api_hash,
                   :status => :created,
                   :role => :participant do
  %p= "Creates a new conversation."

- doc_for :update, :parameters => {:name => @conversation.name },
                   :status => :updated,
                   :role => :participant do
  %p= "Updates the title of a conversation."

- doc_for :watch, :status => :updated,
                  :role => :participant do
  %p= "Adds the current user to the watchers list of the comment."

- doc_for :unwatch, :status => :updated,  
                    :role => :participant do
  %p= "Removes the current user from the watchers list of the comment."

- doc_for :destroy, :status => :deleted,
                    :role => :participant do
  %p= "Destroys a conversation."
